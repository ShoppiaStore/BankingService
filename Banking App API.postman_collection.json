{
	"info": {
		"_postman_id": "6331c0f0-420c-43c5-afc6-8a3ca5721472",
		"name": "Banking App API",
		"description": "Complete API collection for Banking App Account Management System",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json",
		"_exporter_id": "40721589",
		"_collection_link": "https://mohammad-2269.postman.co/workspace/Mohammad-Workspace~3a6a641c-146a-4984-8740-0cdf5a4549d9/collection/40721589-6331c0f0-420c-43c5-afc6-8a3ca5721472?action=share&source=collection_link&creator=40721589"
	},
	"item": [
		{
			"name": "Account Management",
			"item": [
				{
					"name": "Create Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"My Checking Account\",\n    \"accountType\": \"CHECKING\"\n}"
						},
						"url": "{{base_url}}/api/accounts",
						"description": "Create a new bank account for the authenticated user"
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"accountName\": \"My Checking Account\",\n    \"accountType\": \"CHECKING\"\n}"
								},
								"url": "{{base_url}}/api/accounts"
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Account created successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"cardNumber\": \"4532123456789012\",\n        \"accountName\": \"My Checking Account\",\n        \"balance\": 0.0,\n        \"accountType\": \"CHECKING\",\n        \"userId\": 123\n    }\n}"
						}
					]
				},
				{
					"name": "Get Account by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": "{{base_url}}/api/accounts/1",
						"description": "Get account details by account ID (only if user owns the account)"
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": "{{base_url}}/api/accounts/1"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Account retrieved successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"cardNumber\": \"4532123456789012\",\n        \"accountName\": \"My Checking Account\",\n        \"balance\": 1500.50,\n        \"accountType\": \"CHECKING\",\n        \"userId\": 123\n    }\n}"
						}
					]
				},
				{
					"name": "Update Account",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"Updated Account Name\",\n    \"accountType\": \"SAVINGS\",\n    \"cardNumber\": \"4532987654321098\"\n}"
						},
						"url": "{{base_url}}/api/accounts/1",
						"description": "Update account information (name, type, card number)"
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"accountName\": \"Updated Account Name\",\n    \"accountType\": \"SAVINGS\",\n    \"cardNumber\": \"4532987654321098\"\n}"
								},
								"url": "{{base_url}}/api/accounts/1"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Account updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"cardNumber\": \"4532987654321098\",\n        \"accountName\": \"Updated Account Name\",\n        \"balance\": 1500.50,\n        \"accountType\": \"SAVINGS\",\n        \"userId\": 123\n    }\n}"
						}
					]
				},
				{
					"name": "Delete Account",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": "{{base_url}}/api/accounts/1",
						"description": "Delete an account (only if balance is zero)"
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "DELETE",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": "{{base_url}}/api/accounts/1"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"Account deleted successfully\",\n    \"data\": null\n}"
						}
					]
				},
				{
					"name": "Get User Accounts",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": "{{base_url}}/api/accounts/user",
						"description": "Get all accounts for the authenticated user"
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{auth_token}}"
									}
								],
								"url": "{{base_url}}/api/accounts/user"
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"message\": \"User accounts retrieved\",\n    \"data\": [\n        {\n            \"id\": 1,\n            \"cardNumber\": \"4532123456789012\",\n            \"accountName\": \"My Checking Account\",\n            \"balance\": 1500.50,\n            \"accountType\": \"CHECKING\",\n            \"userId\": 123\n        },\n        {\n            \"id\": 2,\n            \"cardNumber\": \"4532987654321098\",\n            \"accountName\": \"My Savings Account\",\n            \"balance\": 5000.00,\n            \"accountType\": \"SAVINGS\",\n            \"userId\": 123\n        }\n    ]\n}"
						}
					]
				}
			],
			"description": "All endpoints related to account management"
		},
		{
			"name": "Test Data Examples",
			"item": [
				{
					"name": "Create CHECKING Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"Main Checking Account\",\n    \"accountType\": \"CHECKING\"\n}"
						},
						"url": "{{base_url}}/api/accounts"
					},
					"response": []
				},
				{
					"name": "Create SAVINGS Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"Emergency Savings\",\n    \"accountType\": \"SAVINGS\"\n}"
						},
						"url": "{{base_url}}/api/accounts"
					},
					"response": []
				},
				{
					"name": "Create BUSINESS Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"Company Business Account\",\n    \"accountType\": \"BUSINESS\"\n}"
						},
						"url": "{{base_url}}/api/accounts"
					},
					"response": []
				},
				{
					"name": "Create CREDIT Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"Credit Line Account\",\n    \"accountType\": \"CREDIT\"\n}"
						},
						"url": "{{base_url}}/api/accounts"
					},
					"response": []
				},
				{
					"name": "Create Dollar Account",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"USD Foreign Currency Account\",\n    \"accountType\": \"Dollar\"\n}"
						},
						"url": "{{base_url}}/api/accounts"
					},
					"response": []
				}
			],
			"description": "Examples for creating different types of accounts"
		},
		{
			"name": "Error Cases",
			"item": [
				{
					"name": "Create Account - Invalid Data",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"accountName\": \"\",\n    \"accountType\": null\n}"
						},
						"url": "{{base_url}}/api/accounts"
					},
					"response": []
				},
				{
					"name": "Get Account - Unauthorized",
					"request": {
						"method": "GET",
						"header": [],
						"url": "{{base_url}}/api/accounts/1"
					},
					"response": []
				},
				{
					"name": "Get Account - Not Found",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": "{{base_url}}/api/accounts/999"
					},
					"response": []
				}
			],
			"description": "Test cases for error scenarios"
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": {
			"token": "{{auth_token}}"
		}
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Check if auth token is set",
					"if (!pm.collectionVariables.get('auth_token') || pm.collectionVariables.get('auth_token') === 'your_jwt_token_here') {",
					"    console.log('⚠️ Please set your JWT token in the collection variables');",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Basic response validation",
					"pm.test('Response has success field', function () {",
					"    const jsonData = pm.response.json();",
					"    pm.expect(jsonData).to.have.property('success');",
					"});",
					"",
					"pm.test('Response has message field', function () {",
					"    const jsonData = pm.response.json();",
					"    pm.expect(jsonData).to.have.property('message');",
					"});",
					"",
					"// Log response for debugging",
					"console.log('Response Status:', pm.response.status);",
					"console.log('Response Body:', pm.response.text());"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8081",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "your_jwt_token_here",
			"type": "string"
		}
	]
}